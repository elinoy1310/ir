# ir
שלב 1 – הורדת קבצי ה־XML

מטרה:
להוריד את כל קבצי ה־XML של פרוטוקולי הפרלמנט הבריטי החל מהקובץ debates2023-06-28d.xml ועד הסוף (כ־935 קבצים) לצורך עיבוד בהמשך.

מה נעשה:
נכתב סקריפט בפייתון (download_debates.py) המשתמש בספריות requests ו־tqdm להורדה אוטומטית של הקבצים.
הסקריפט:

שואב את רשימת הקבצים מהאתר.

מסנן לפי שם הקובץ המבוקש.

מוריד כל קובץ לתיקייה debates_xml תוך הצגת התקדמות.

מדלג על קבצים שכבר הורדו.

למה נבחרה השיטה הזו:
שיטה פשוטה, אמינה וחסכונית — מאפשרת הורדה אוטומטית מלאה ללא שימוש ידני בדפדפן, עם הגנות בפני ניתוקים או שגיאות רשת.

תוצאות:
כל הקבצים ירדו בהצלחה לתיקייה מקומית, שמות הקבצים נשמרו במדויק.

שגיאות אפשריות:

ניתוק רשת או Timeout → נפתר ע"י מנגנון Retry.

קובץ פגום → נבדק לפי גודל הקובץ, סקריפט מדלג ומנסה שוב.

שלב 2 – ניקוי קבצי ה־XML ובדיקת קבצים ריקים
🎯 מטרה

להמיר את קבצי ה־XML לקבצי טקסט נקיים המכילים רק את תוכן הדיבור (ללא תגיות HTML או XML), ולוודא שכל הקבצים שנוצרו אכן תקינים ולא ריקים.

⚙️ מה בוצע
1. ניקוי תגיות ה־XML

נכתב סקריפט (clean_xml_folder) המשתמש בספרייה lxml לעיבוד כל קובץ XML:

חילוץ כל הטקסט שבין התגים באמצעות itertext().

הסרת רווחים ותווים מיותרים.

שמירת קובץ טקסט חדש (.txt) בשם זהה לתיקייה clean_text.

טיפול בשגיאות באמצעות קובץ לוג (error_log.txt) לקבצים בעייתיים.

2. בדיקת קבצים ריקים

נכתב סקריפט נוסף שבודק את כל קובצי ה־TXT בתיקייה:

מדד אם גודל הקובץ הוא 0 או שהתוכן קצר מ־10 תווים.

מציג ומונה את כל הקבצים הריקים או כמעט ריקים.

💡 הסיבה לבחירה בשיטה

השימוש ב־lxml מאפשר ניתוח מדויק של מבנה XML גם בקבצים מורכבים, ומונע איבוד טקסט או טעויות פענוח.
בדיקת הקבצים הריקים מבטיחה שהקורפוס הסופי יכלול רק מסמכים איכותיים לצורך בניית מודלים (TF-IDF, Embeddings וכו׳).

📈 תוצאות

התקבלו קבצי טקסט נקיים ומאוחדים בתיקייה clean_text.

נוצר קובץ לוג לשגיאות פרסינג.

הופקה רשימה של קבצים ריקים שנמצאו (להמשך סינון לפני עיבוד נוסף).